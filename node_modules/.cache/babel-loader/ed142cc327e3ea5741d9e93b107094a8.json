{"ast":null,"code":"import _slicedToArray from\"/home/kali/Desktop/Secure_Cloud_Computing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{faFileMedical}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{useAuth}from\"../../contexts/AuthContext\";import{Link}from\"react-router-dom\";import{Button,Modal,Form}from\"react-bootstrap\";import{io}from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddFile(_ref){var currentFolder=_ref.currentFolder;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),socket=_useState6[0],setSocket=_useState6[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser;function openModal(){setOpen(true);}function closeModal(){setOpen(false);}useEffect(function(){var s=io(\"http://localhost:3001\");setSocket(s);return function(){s.disconnect();};},[]);function filehandle(){var folderId=currentFolder.id;socket.emit(\"document-name\",name);socket.emit(\"folderId\",folderId);setName(\"\");closeModal();}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:openModal,variant:\"outline-success\",size:\"sm\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFileMedical})}),/*#__PURE__*/_jsx(Modal,{show:open,onHide:closeModal,children:/*#__PURE__*/_jsxs(Form,{onSubmit:filehandle,children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Document Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",required:true,value:name,onChange:function onChange(e){return setName(e.target.value);}})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:closeModal,children:\"Close\"}),/*#__PURE__*/_jsx(Link,{target:\"_blank\",to:\"/create\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"button\",children:\"Create Document\"})})]})]})})]});}export{AddFile};","map":{"version":3,"sources":["/home/kali/Desktop/Secure_Cloud_Computing/src/Component/Drive/AddFile.js"],"names":["React","useState","useEffect","faFileMedical","FontAwesomeIcon","useAuth","Link","Button","Modal","Form","io","AddFile","currentFolder","open","setOpen","name","setName","socket","setSocket","currentUser","openModal","closeModal","s","disconnect","filehandle","folderId","id","emit","e","target","value"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAT,KAA6B,mCAA7B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,IAAxB,KAAoC,iBAApC,CACA,OAASC,EAAT,KAAmB,kBAAnB,C,6IAEA,cAAe,SAASC,CAAAA,OAAT,MAAoC,IAAjBC,CAAAA,aAAiB,MAAjBA,aAAiB,CAEjD,cAAwBX,QAAQ,CAAC,KAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eACA,eAA4Bf,QAAQ,EAApC,yCAAOgB,MAAP,eAAeC,SAAf,eACA,aAAwBb,OAAO,EAA/B,CAAQc,WAAR,UAAQA,WAAR,CAEA,QAASC,CAAAA,SAAT,EAAqB,CACnBN,OAAO,CAAC,IAAD,CAAP,CACD,CAED,QAASO,CAAAA,UAAT,EAAsB,CACpBP,OAAO,CAAC,KAAD,CAAP,CACD,CAEDZ,SAAS,CAAC,UAAM,CACd,GAAMoB,CAAAA,CAAC,CAAGZ,EAAE,CAAC,uBAAD,CAAZ,CACAQ,SAAS,CAACI,CAAD,CAAT,CAEA,MAAO,WAAM,CACXA,CAAC,CAACC,UAAF,GACD,CAFD,CAGD,CAPQ,CAOP,EAPO,CAAT,CASA,QAASC,CAAAA,UAAT,EAAsB,CACpB,GAAMC,CAAAA,QAAQ,CAAGb,aAAa,CAACc,EAA/B,CAEAT,MAAM,CAACU,IAAP,CAAY,eAAZ,CAA6BZ,IAA7B,EACAE,MAAM,CAACU,IAAP,CAAY,UAAZ,CAAwBF,QAAxB,EAEFT,OAAO,CAAC,EAAD,CAAP,CACAK,UAAU,GAGP,CAGH,mBACA,wCACE,KAAC,MAAD,EAAQ,OAAO,CAAED,SAAjB,CAA4B,OAAO,CAAC,iBAApC,CAAsD,IAAI,CAAC,IAA3D,uBACI,KAAC,eAAD,EAAiB,IAAI,CAAEjB,aAAvB,EADJ,EADF,cAII,KAAC,KAAD,EAAO,IAAI,CAAEU,IAAb,CAAmB,MAAM,CAAEQ,UAA3B,uBACE,MAAC,IAAD,EAAM,QAAQ,CAAEG,UAAhB,wBACE,KAAC,KAAD,CAAO,IAAP,wBACE,MAAC,IAAD,CAAM,KAAN,yBACE,KAAC,IAAD,CAAM,KAAN,4BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,QAAQ,KAFV,CAGE,KAAK,CAAET,IAHT,CAIE,QAAQ,CAAE,kBAAAa,CAAC,QAAIZ,CAAAA,OAAO,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAJb,EAFF,GADF,EADF,cAYE,MAAC,KAAD,CAAO,MAAP,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,CAAET,UAArC,mBADF,cAIE,KAAC,IAAD,EAAM,MAAM,CAAC,QAAb,CAAsB,EAAE,CAAC,SAAzB,uBACA,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,6BADA,EAJF,GAZF,GADF,EAJJ,GADA,CAgCD,CACD,OAASV,OAAT","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { faFileMedical} from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link } from \"react-router-dom\"\nimport { Button, Modal, Form } from \"react-bootstrap\"\nimport { io } from 'socket.io-client'\n\nexport default function AddFile({ currentFolder }) {\n\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState(\"\")\n  const [socket, setSocket] = useState()\n  const { currentUser } = useAuth()\n\n  function openModal() {\n    setOpen(true)\n  }\n\n  function closeModal() {\n    setOpen(false)\n  }\n  \n  useEffect(() => {\n    const s = io(\"http://localhost:3001\")\n    setSocket(s);\n\n    return () => {\n      s.disconnect()\n    }\n  },[])\n\n  function filehandle() {\n    const folderId = currentFolder.id;\n\n    socket.emit(\"document-name\", name)\n    socket.emit(\"folderId\", folderId)\n        \n  setName(\"\")\n  closeModal()\n    \n    \n    }\n\n\n  return (\n  <>\n    <Button onClick={openModal} variant=\"outline-success\" size=\"sm\">\n        <FontAwesomeIcon icon={faFileMedical} />\n      </Button>\n      <Modal show={open} onHide={closeModal}>\n        <Form onSubmit={filehandle}>\n          <Modal.Body>\n            <Form.Group>\n              <Form.Label>Document Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                required\n                value={name}\n                onChange={e => setName(e.target.value)}\n              />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={closeModal}>\n              Close\n            </Button>\n            <Link target=\"_blank\" to=\"/create\">\n            <Button variant=\"success\" type=\"button\">\n              Create Document\n            </Button>\n            </Link>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  )\n}\nexport { AddFile }\n"]},"metadata":{},"sourceType":"module"}